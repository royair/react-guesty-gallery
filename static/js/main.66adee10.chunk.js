(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){},134:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),i=a.n(o),s=a(14),c=a(79),l=a(40),u=a(16),h=a(7),m=a(19),p=a(75),f=a.n(p),y=a(47),d=a.n(y),b=a(49),v=a.n(b),g="title",j="asc";Object(h.f)({enforceActions:"observed"});var O=function(){function e(){var t=this;Object(u.a)(this,e),this.search=function(){t.urlParams.q||Object(h.o)(function(){t.photos=[]}),f.a.get("https://api.giphy.com/v1/gifs/search?api_key=dCpV0z0dW988CrZDZ8DYJtLMrJJI0pSz&q=".concat(t.urlParams.q,"&limit=9")).then(function(e){Object(h.o)(function(){t.photos=e.data.data})})},this.compareByTitle=function(e){return function(t,a){return t.title<a.title?"asc"===e?-1:1:t.title>a.title?"asc"===e?1:-1:0}},this.compareByDate=function(e){return function(t,a){return d()(t.import_datetime).isBefore(a.import_datetime)?"asc"===e?-1:1:d()(a.import_datetime).isBefore(t.import_datetime)?"asc"===e?1:-1:0}},this._photos=[],this.urlParams={sortType:g,sortValue:j,q:""},Object(h.n)(function(){return t.urlParams.q},this.search),Object(h.n)(function(){return Object.values(t.urlParams)},function(){window.history.pushState("",null,"#/?"+v.a.stringify(t.urlParams))})}return Object(m.a)(e,[{key:"setQ",value:function(e){this.urlParams.q=e}},{key:"sortByTitle",value:function(e){var t=this.urlParams.sortValue;return e.slice().sort(this.compareByTitle(t))}},{key:"sortByDate",value:function(e){var t=this.urlParams.sortValue;return e.slice().sort(this.compareByDate(t))}},{key:"photos",set:function(e){this._photos=e},get:function(){switch(this.urlParams.sortType){case"title":return this.sortByTitle(this._photos);case"datetime":return this.sortByDate(this._photos);default:return this._photos}}},{key:"count",get:function(){return this._photos.length}}]),e}();Object(h.h)(O,{_photos:h.m,photos:h.e,urlParams:h.m,setQ:h.d,count:h.e});var E=O,P=function e(){Object(u.a)(this,e),this.gallery=new E};Object(h.h)(P,{gallery:h.m});var w=new P,k=(a(120),a(55)),C=a(25),S=a(22),B=a(26),T=a(171),D=function(e){function t(){return Object(u.a)(this,t),Object(C.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.store.gallery.count;return n.a.createElement(T.a,{variant:"h6",gutterBottom:!0},"displaying",n.a.createElement("span",{style:{fontWeight:600}}," ",e," "),"images")}}]),t}(r.Component);D.defaultProps={};var _=Object(s.b)("store")(Object(s.c)(D)),V=a(174),x=a(175),q=a(176),A=a(173),I=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(C.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(n)))).formatDate=function(e){return d()(e).format("DD/MM/YYYY")},a}return Object(B.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.props.store.gallery.photos.map(function(t){return n.a.createElement(A.a,{key:t.id,item:!0},n.a.createElement(V.a,{style:{width:"300px"}},n.a.createElement(x.a,null,n.a.createElement(T.a,{component:"p"},t.title)),n.a.createElement(q.a,{style:{height:"300px"},image:t.images.downsized.url,title:"Contemplative Reptile"}),n.a.createElement(x.a,null,n.a.createElement(T.a,{component:"p"},e.formatDate(t.import_datetime)))))})}}]),t}(r.Component);I.defaultProps={};var J=Object(s.b)("store")(Object(s.c)(I)),M=a(141),W=a(184),Y=a(177),z=a(77),K=a.n(z),Q={root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}},L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(C.a)(this,Object(S.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.target.value})},a.search=function(){var e=a.state.value;a.props.store.gallery.setQ(e)},a.handleOnKeyPress=function(e){"Enter"===e.key&&a.search()},a.state={value:""},a}return Object(B.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(){return{value:e.props.store.gallery.urlParams.q}})}},{key:"render",value:function(){return n.a.createElement(M.a,{style:Q.root},n.a.createElement(W.a,{style:Q.input,placeholder:"Search giphy",value:this.state.value,onChange:this.handleChange,onKeyPress:this.handleOnKeyPress}),n.a.createElement(Y.a,{style:Q.iconButton,"aria-label":"Search",onClick:this.search},n.a.createElement(K.a,null)))}}]),t}(r.Component);L.defaultProps={};var N=Object(s.b)("store")(Object(s.c)(L)),U=a(185),Z=a(180),F=a(182),R=a(183),$=a(179),G=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(C.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(n)))).getSelectValue=function(){var e=a.props.store.gallery.urlParams,t=e.sortType,r=e.sortValue;return'{"sortType": "'.concat(t,'", "sortValue": "').concat(r,'"}')},a.handleChange=function(e){var t=e.target.value,r=JSON.parse(t),n=a.props.store.gallery.urlParams;Object(h.o)(function(){a.props.store.gallery.urlParams=Object(k.a)({},n,r)})},a}return Object(B.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement($.a,{variant:"outlined",style:{width:"100%"},margin:"normal"},n.a.createElement(U.a,{ref:this.sortType,htmlFor:"outlined-sort-simple"},"sort"),n.a.createElement(Z.a,{value:this.getSelectValue(),onChange:this.handleChange,input:n.a.createElement(F.a,{labelWidth:30,name:"sort",id:"outlined-sort-simple"})},n.a.createElement(R.a,{value:'{"sortType": "title", "sortValue": "asc"}'},"Sort by Title ASC"),n.a.createElement(R.a,{value:'{"sortType": "title", "sortValue": "desc"}'},"Sort by Title DESC"),n.a.createElement(R.a,{value:'{"sortType": "datetime", "sortValue": "asc"}'},"Sort by Imported date ASC"),n.a.createElement(R.a,{value:'{"sortType": "datetime", "sortValue": "desc"}'},"Sort by Imported date DESC")))}}]),t}(r.Component);G.defaultProps={};var H=Object(s.b)("store")(Object(s.c)(G)),X=(a(134),function(e){function t(){return Object(u.a)(this,t),Object(C.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initUrlParams()}},{key:"initUrlParams",value:function(){var e=this,t=this.props.store.gallery.urlParams,a=v.a.parse(this.props.location.search);Object(h.o)(function(){e.props.store.gallery.urlParams=Object(k.a)({},t,a)})}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(A.a,{container:!0,spacing:2},n.a.createElement(A.a,{item:!0,xs:12},n.a.createElement(A.a,{container:!0,justify:"center",spacing:3,alignItems:"center"},n.a.createElement(N,null),n.a.createElement(A.a,{item:!0,xs:2},n.a.createElement(H,null))))),n.a.createElement(A.a,{container:!0,justify:"center",spacing:3},n.a.createElement(A.a,{item:!0},n.a.createElement(_,null))),n.a.createElement(A.a,{container:!0,justify:"center",spacing:3},n.a.createElement(J,null)))}}]),t}(r.Component)),ee=Object(s.b)("store")(Object(s.c)(X));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(c.a,null,n.a.createElement(s.a,{store:w},n.a.createElement(l.a,{path:"/",exact:!0,component:ee}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},85:function(e,t,a){e.exports=a(140)}},[[85,1,2]]]);
//# sourceMappingURL=main.66adee10.chunk.js.map